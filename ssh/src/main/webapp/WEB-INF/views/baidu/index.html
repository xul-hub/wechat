<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Hello, World</title>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=您的密钥"></script>
</head>
<body>
    <script type="text/javascript">
    var geolocation = new BMap.Geolocation();
    geolocation.getCurrentPosition(function(r) {
    	if (this.getStatus() == BMAP_STATUS_SUCCESS) {
    		var myGeo = new BMap.Geocoder();
    		myGeo.getLocation(new BMap.Point(r.point.lng, r.point.lat), function(rs) {
    			var lbs_point = '';
    			var address = '';
    			if (rs.surroundingPois.length > 0) {
    				lbs_point = rs.surroundingPois[0].point.lng+","+rs.surroundingPois[0].point.lat;
    				address =  rs.surroundingPois[0].title;
    			} else {
    				lbs_point = rs.point.lng+","+rs.point.lat;
    				address = rs.address;
    			}
    			alert(JSON.stringify(rs, null, 4));
    		},{enableHighAccuracy : true});
    	}
    });
    </script>
  </body>
</html>